name: CUDA-cache
on:
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: windows-2022

    steps:
    - name: Cache CUDA Toolkit
      uses: actions/cache@v3
      with:
        path: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA
        key: cuda-12.6.0

    - name: Setup CUDA 12.6
      uses: Jimver/cuda-toolkit@v0.2.18
      with:
        cuda: '12.6.0'
        method: 'local'

    - name: Show CUDA directory contents
      run: dir "C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA"
